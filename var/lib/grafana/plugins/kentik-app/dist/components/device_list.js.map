{"version":3,"sources":["../../src/components/device_list.js"],"names":["DeviceListCtrl","$scope","$injector","$location","backendSrv","devices","pageReady","getDevices","get","then","resp","device","path","search","device_name","url","id","templateUrl"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gCAAMA,c;AACJ;AACA,gCAAYC,MAAZ,EAAoBC,SAApB,EAA+BC,SAA/B,EAA0CC,UAA1C,EAAsD;AAAA;;AACpD,eAAKA,UAAL,GAAkBA,UAAlB;AACA,eAAKD,SAAL,GAAiBA,SAAjB;AACA,eAAKE,OAAL,GAAe,EAAf;AACA,eAAKC,SAAL,GAAiB,KAAjB;AACA,eAAKC,UAAL;AACD;;;;uCACY;AAAA;;AACX,iBAAKH,UAAL,CAAgBI,GAAhB,CAAoB,6CAApB,EAAmEC,IAAnE,CAAwE,gBAAQ;AAC9E,oBAAKJ,OAAL,GAAeK,KAAKL,OAApB;AACA,oBAAKC,SAAL,GAAiB,IAAjB;AACD,aAHD;AAID;;;oCAES;AACR,iBAAKC,UAAL;AACD;;;wCAEaI,M,EAAQ;AACpB,iBAAKR,SAAL,CAAeS,IAAf,CAAoB,kCAApB,EAAwDC,MAAxD,CAA+D,EAAC,cAAcF,OAAOG,WAAtB,EAA/D;AACD;;;2CAEgBH,M,EAAQ;AACvB,iBAAKR,SAAL,CAAeY,GAAf,CAAmB,oDAAkDJ,OAAOK,EAA5E;AACD;;;;;;AAGHhB,qBAAeiB,WAAf,GAA6B,6BAA7B;;gCAEQjB,c","file":"device_list.js","sourcesContent":["class DeviceListCtrl {\n  /** @ngInject */\n  constructor($scope, $injector, $location, backendSrv) {\n    this.backendSrv = backendSrv;\n    this.$location = $location;\n    this.devices = [];\n    this.pageReady = false;\n    this.getDevices();\n  }\n  getDevices() {\n    this.backendSrv.get(\"/api/plugin-proxy/kentik-app/api/v5/devices\").then(resp => {\n      this.devices = resp.devices;\n      this.pageReady = true;\n    });\n  }\n\n  refresh() {\n    this.getDevices();\n  }\n\n  gotoDashboard(device) {\n    this.$location.path(\"/dashboard/db/kentik-top-talkers\").search({\"var-device\": device.device_name});\n  }\n\n  gotoDeviceDetail(device) {\n    this.$location.url(\"/plugins/kentik-app/page/device-details?device=\"+device.id);\n  }\n}\n\nDeviceListCtrl.templateUrl = 'components/device_list.html';\n\nexport {DeviceListCtrl};\n"]}